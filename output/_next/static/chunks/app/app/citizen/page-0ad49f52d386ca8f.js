(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2588],{61395:function(e,l,s){Promise.resolve().then(s.bind(s,63379))},63379:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return N}});var t=s(57437),a=s(53159),n=s(89348),d=s(2265),i=s(12578),r=s(61396),c=s.n(r),o=s(66097),x=()=>{let[e,l]=(0,d.useState)({key:"day",label:"Daily"}),{data:s,loading:r}=(0,o.X)({src:"/user-dashboard/number_of_probs_solvedforMe"}),{data:x,loading:m}=(0,o.X)({src:"/user-dashboard/number_of_pending_probsForMe"});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{header:"Overview",style:"font-bold text-md"}),(0,t.jsxs)("div",{className:"w-full md:h-[80%] flex flex-col gap-5",children:[(0,t.jsxs)("div",{className:"w-full h-1/2 gap-2 flex flex-col md:flex-row",children:[(0,t.jsxs)("div",{className:"w-full h-full bg-[#00d5605f] border-b-[4px] rounded-t-lg border-b-[#00D560] flex flex-col items-center justify-center",children:[(0,t.jsx)(a.UUc,{size:18}),(0,t.jsx)("h5",{className:"text-[#000] text-sm text-center font-semibold mt-1",children:"Marked as Solved problems"}),r?(0,t.jsx)("p",{children:"Loading..."}):(0,t.jsx)("h4",{className:"text-[#000] font-extr text-[17px]",children:null==s?void 0:s.data})]}),(0,t.jsxs)("div",{className:"w-full md:h-full bg-[#fad0016c] border-b-[4px] rounded-t-lg border-b-[#FAD201] flex flex-col items-center justify-center",children:[(0,t.jsx)(n.B2l,{size:20}),(0,t.jsx)("h5",{className:"text-[#000] text-sm text-center font-semibold mt-1",children:"Unsolved problems"}),m?(0,t.jsx)("p",{children:"Loading..."}):(0,t.jsx)("h4",{className:"text-[#000] font-extrabold text-[17px]",children:null==x?void 0:x.data})]})]}),(0,t.jsx)("h6",{className:"w-full px-2 text-center text-sm font-bold leading-4",children:"Don't forget to mark your suggestions and problems as solved if they've been addressed! \uD83C\uDF1F Your input makes a difference!"}),(0,t.jsxs)("div",{className:"w-full flex justify-between px-2",children:[(0,t.jsx)(c(),{href:"/app/citizen/problems",className:"py-3 w-full md:w-[48%] flex justify-center font-bold rounded-sm text-sm bg-[#00d5605f]",children:"View all problems"}),(0,t.jsx)(c(),{href:"/app/citizen/suggestions",className:"py-3 w-full md:w-[48%] flex justify-center font-bold rounded-sm text-sm bg-[#fad0016c]",children:"View all suggestions"})]})]})]})},m=s(92746),h=s(12727),u=s(16691),f=s.n(u),j=s(79330),v=s(72027),g=s(47627),p=()=>(0,t.jsxs)("section",{className:"w-full md:h-[90%] flex flex-col justify-between md:gap-0 mt-4",children:[(0,t.jsxs)("div",{className:"w-full h-[47%] flex flex-col md:flex-row justify-between gap-5 md:gap-0",children:[(0,t.jsx)(g.X,{className:"md:w-[66%] md:h-full bg-neutral-500 rounded-lg"}),(0,t.jsx)(g.X,{className:"md:w-[32%] bg-neutral-500 rounded-lg py-3 px-3 md:py-0 mt-3 md:mt-0"})]}),(0,t.jsx)(g.X,{className:"w-full md:h-[50%] flex flex-col bg-white"})]}),N=()=>{let[e,l]=(0,d.useState)(!1),[s,n]=(0,d.useState)([]),[i,r]=(0,d.useState)([]),[o,u]=(0,d.useState)([]),[g,N]=(0,d.useState)(!0),[b,w]=(0,d.useState)(!0);return(0,d.useEffect)(()=>{w(!1)},[]),(0,d.useEffect)(()=>{N(!0),v.N$.get("/problems/my/asked").then(e=>{var l,s,t,a,n;console.log(null===(l=e.data)||void 0===l?void 0:l.data),(null===(t=e.data)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)?r([]):r(null===(n=e.data)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.reverse())}).catch(e=>{console.log(e)}).finally(()=>N(!1)),v.N$.get("/suggestions/mine").then(e=>{var l,s,t,a,n;console.log(null===(l=e.data)||void 0===l?void 0:l.data),(null===(t=e.data)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)?u([]):u(null===(n=e.data)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.reverse())}).catch(e=>{console.log(e)}).finally(()=>N(!1))},[]),(0,d.useEffect)(()=>{l(!0),v.N$.get("/events/receive_event").then(e=>{var s,t,a,d;(null===(t=e.data)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)?n([]):n(null===(d=e.data)||void 0===d?void 0:null===(a=d.data)||void 0===a?void 0:a.reverse()),l(!1)}).catch(e=>{console.log(e),l(!1)})},[]),(0,t.jsx)(t.Fragment,{children:b?(0,t.jsx)(p,{}):(0,t.jsxs)("section",{className:"w-full md:h-[90%] flex flex-col justify-between md:gap-0 mt-4",children:[(0,t.jsxs)("div",{className:"w-full h-[47%] flex flex-col md:flex-row justify-between gap-5 md:gap-0",children:[(0,t.jsx)("div",{className:"md:w-[66%] md:h-full bg-white rounded-lg",children:(0,t.jsx)(m.Z,{problemsData:i.slice(0,5),suggestionsData:o.slice(0,5),loading:g})}),(0,t.jsx)("div",{className:"md:w-[32%] bg-white rounded-lg py-3 px-3 md:py-0 mt-3 md:mt-0",children:(0,t.jsx)(x,{})})]}),(0,t.jsxs)("div",{className:"w-full md:h-[50%] flex flex-col bg-white",children:[(0,t.jsxs)("div",{className:"w-full flex justify-between px-6 items-center",children:[(0,t.jsx)("h1",{className:"text-2xl w-4/5 font-bold pt-2",children:"Events"}),(0,t.jsxs)(c(),{href:"/app/citizen/events",className:"text-sm text-[#0075FF] flex items-center gap-3",children:["View More ",(0,t.jsx)(a.H_v,{})]})]}),s.length>0?(0,t.jsx)(h.Z,{dataProps:s.slice(0,5),showPagination:!1,styles:"h-full"}):(0,t.jsxs)("div",{className:"w-full flex flex-col items-center",children:[(0,t.jsx)(f(),{src:j.Z,alt:"No Data GIF"}),(0,t.jsx)("h1",{className:"mt-[1rem] font-bold",children:"No Announcements found in your system!"})]})]})]})})}},12727:function(e,l,s){"use strict";var t=s(57437),a=s(72027),n=s(18513),d=s(53159),i=s(71824),r=s(2265),c=s(10519),o=s(5313);l.Z=e=>{let{dataProps:l,showPagination:s,styles:x}=e,[m,h]=(0,r.useState)(),[u,f]=(0,r.useState)(!1);return(0,t.jsxs)("div",{className:"w-full h-max px-2 bg-white mt-8",children:[(0,t.jsx)(c.u,{opened:u,onClose:()=>f(!1),size:"lg",children:(0,t.jsxs)("div",{className:"w-full h-full flex flex-col gap-4 pb-5 pl-5",children:[(0,t.jsx)("h3",{className:"text-[#20603D] font-extrabold text-center text-xl",children:"Event information"}),(0,t.jsx)("div",{className:"mt-[10px] mx-3",children:(0,t.jsxs)("h6",{children:[(0,t.jsx)("span",{className:"font-extrabold text-md mx-2",children:"Event name:"})," ",null==m?void 0:m.eventName]})}),(0,t.jsx)("div",{className:"mt-[10px] mx-3",children:(0,t.jsxs)("h6",{children:[(0,t.jsx)("span",{className:"font-extrabold text-md mx-2",children:"Description: "})," ",null==m?void 0:m.descriptions]})}),(0,t.jsx)("div",{className:"mt-[10px] mx-3",children:(0,t.jsxs)("h6",{children:[" ",(0,t.jsxs)("span",{className:"text-md font-extrabold mx-2",children:["Organization Level:"," "]}),null==m?void 0:m.organizationLevel]})}),(0,t.jsx)("div",{className:"mt-[10px] mx-3",children:(0,t.jsxs)("h6",{children:[" ",(0,t.jsx)("span",{className:"font-extrabold text-md mx-2",children:"Category:"})," ",null==m?void 0:m.category]})}),(0,t.jsx)("div",{className:"mt-[10px] mx-3",children:(0,t.jsxs)("h6",{children:[" ",(0,t.jsx)("span",{className:"text-md font-extrabold mx-2",children:"Start Date and Time :"}),null==m?void 0:m.startDateTime]})}),(0,t.jsx)("div",{className:"mt-[10px] mx-3",children:(0,t.jsxs)("h6",{children:[(0,t.jsxs)("span",{className:"text-md font-extrabold mx-2",children:["End Date and Time:"," "]}),null==m?void 0:m.endDateTime]})}),(0,t.jsx)("div",{className:"mt-[10px] mx-3",children:(0,t.jsxs)("h6",{children:[" ",(0,t.jsx)("span",{className:"text-md font-extrabold mx-2",children:"Location: "}),null==m?void 0:m.location]})})]})}),(0,t.jsx)("div",{className:"".concat(x," w-full h-[80%]"),children:(0,t.jsx)(n.w,{allowPagination:null==s||s,data:null!=l?l:a.U3,columns:[{accessorKey:"Completed",header:e=>{let{column:l}=e;return(0,t.jsx)(d.UUc,{color:"#ccc"})},cell:e=>{let{row:l}=e;return l.original.completed?(0,t.jsx)(d.UUc,{color:"#00D560"}):(0,t.jsx)(i.QCV,{color:"#FA8701"})}},{accessorKey:"Event Name",header:e=>{let{column:l}=e;return(0,t.jsx)("h4",{children:"Event name"})},cell:e=>{let{row:l}=e;return(0,t.jsx)("h6",{className:"text-[80%]",children:l.original.eventName.toString().length<30?l.original.eventName:"".concat(l.original.eventName.slice(0,58)," . . .")})}},{accessorKey:"Event Description",header:e=>{let{column:l}=e;return(0,t.jsx)("h4",{children:"Event description"})},cell:e=>{let{row:l}=e;return(0,t.jsx)("h6",{className:"text-[80%]",children:l.original.descriptions.toString().length<30?l.original.descriptions:"".concat(l.original.descriptions.slice(0,58)," . . .")})}},{accessorKey:"Start Date Time",header:e=>{let{column:l}=e;return(0,t.jsx)("h4",{children:"Start Date Time"})},cell:e=>{let{row:l}=e;return(0,t.jsx)("h6",{className:"text-[80%]",children:l.original.startDateTime})}},{accessorKey:"End Date Time",header:e=>{let{column:l}=e;return(0,t.jsx)("h4",{children:"End Date Time"})},cell:e=>{let{row:l}=e;return(0,t.jsx)("h6",{className:"text-[80%]",children:l.original.endDateTime})}},{accessorKey:"Location",header:e=>{let{column:l}=e;return(0,t.jsx)("h4",{children:"Location"})},cell:e=>{let{row:l}=e;return(0,t.jsx)("h6",{className:"text-[80%]",children:l.original.location})}},{accessorKey:"View",header:e=>{let{column:l}=e;return(0,t.jsx)("div",{className:"cursor-pointer w-full flex justify-end",children:(0,t.jsx)("h5",{children:"View"})})},cell:e=>{let{row:l}=e;return(0,t.jsx)("div",{className:"pr-4 w-full flex justify-end cursor-pointer",onClick:()=>{h(l.original),f(!0)},children:(0,t.jsx)(d.z5B,{})})}},{accessorKey:"Actions",header:e=>{let{column:l}=e;return(0,t.jsx)(t.Fragment,{})},cell:e=>{let{row:l}=e;return(0,t.jsx)(o.Z,{data:l.original})}}],tableClass:""})})]})}}},function(e){e.O(0,[2420,1582,1787,3033,9982,6652,8061,6169,5812,1749,2173,2734,7695,8567,236,5250,167,3373,3696,4617,7,3487,2027,8513,1363,2971,4938,1744],function(){return e(e.s=61395)}),_N_E=e.O()}]);