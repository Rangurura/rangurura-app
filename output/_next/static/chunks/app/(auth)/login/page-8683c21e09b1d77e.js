(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4665],{3978:function(e,t,n){Promise.resolve().then(n.bind(n,46612))},67447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{unstable_getImgProps:function(){return l},default:function(){return c}});let o=n(70817),i=n(38630),r=n(76184),s=n(81749),a=o._(n(10536)),l=e=>{(0,r.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,i.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}},c=s.Image},46612:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var o=n(57437),i=n(2265),r=n(64267),s=n(61396),a=n.n(s),l=n(16691),c=n.n(l),u=n(24033),d=n(92173),f=n(51696),p=n(53159),g=n(20251),m=n(47713),h=n(53771),x=n(40311),v=n(86655),b=()=>(0,o.jsxs)("div",{className:"w-screen h-screen absolute top-0 left-0 flex flex-col gap-3 justify-center items-center bg-[#9e9d9dd6] z-[1001]",children:[(0,o.jsx)("h4",{className:"text-xl text-white",children:"Redirecting ..."}),(0,o.jsx)(f.Z,{size:30,color:"#ccc"})]}),w=()=>{let{t:e}=(0,g.$G)(),t=(0,u.useRouter)(),[n,s]=(0,i.useState)(!1),[l,w]=(0,i.useState)(!1),[y,j]=(0,i.useState)(!1),[N,C]=(0,i.useState)(e("login.login")),[S,A]=(0,i.useState)({nationalId:"",password:""}),k=e=>{let{name:t,value:n}=e.target;A(e=>({...e,[t]:n}))};return(0,o.jsxs)("section",{className:"flex justify-center items-center bg-[#EEF3F9] h-screen p-10",id:"login",children:[(0,o.jsxs)("div",{className:"bg-white p-7 rounded-xl w-full md:w-[60%] max-w-[450px]",children:[(0,o.jsx)("div",{className:"flex justify-center cursor-pointer",children:(0,o.jsx)(a(),{href:"/",children:(0,o.jsx)(c(),{src:r.default,alt:"Logo",width:40,height:40})})}),(0,o.jsx)("h3",{className:"text-[#001833] font-bold text-2xl text-center",children:e("login.login")}),(0,o.jsxs)("form",{className:"flex flex-col justify-center py-6 gap-4",onSubmit:e=>{e.preventDefault(),w(!0),d.Z.post("http://194.163.167.131:7400/api/v1/auth/login",S).then(e=>{var n,i,r,a;w(!1),(0,m.setCookie)("token",e.data.data);let l=(0,h.o)(e.data.data);(null===(n=l.role)||void 0===n?void 0:n.toLowerCase())=="umuyobozi"?(C("Redirecting ..."),s(!0),t.push("/app/leader"),v.N9.show({title:"Leader Login",message:"Leader Logged in successfully!",autoClose:5e3,icon:(0,o.jsx)(p.wO,{})})):(null===(i=l.role)||void 0===i?void 0:i.toLowerCase())=="admin"?(C("Redirecting ..."),s(!0),t.push("/app/admin"),v.N9.show({title:"Admin Login",message:"Admin Logged in successfully!",autoClose:5e3,icon:(0,o.jsx)(p.wO,{})})):(null===(r=l.role)||void 0===r?void 0:r.toLowerCase())=="umuturage"?(t.push("/app/citizen"),v.N9.show({title:"Citizen Login",message:"Citizen Logged in successfully!",autoClose:5e3,icon:(0,o.jsx)(p.wO,{})}),w(!1),t.push("/app/citizen"),C("Redirecting ..."),s(!0)):v.N9.show({title:"Auth Error",message:"Role Not valid!",color:"#FF555D",autoClose:5e3,icon:(0,o.jsx)(x.toq,{})}),(0,m.setCookie)("token",null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.data)}).catch(e=>{var n,i,r,a,l,c,u,d;return(console.log("Error occured: ",e.response),w(!1),null!=e&&null!==(i=e.response)&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.success)?"Verify the account to continue!"==String(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.error)?(s(!0),t.push("/verify")):v.N9.show({title:"Auth Error",message:null==e?void 0:null===(c=e.response)||void 0===c?void 0:null===(l=c.data)||void 0===l?void 0:l.error,color:"#FF555D",autoClose:5e3,icon:(0,o.jsx)(x.toq,{})}):v.N9.show({title:"Auth Error",message:null==e?void 0:null===(d=e.response)||void 0===d?void 0:null===(u=d.data)||void 0===u?void 0:u.error,color:"#FF555D",autoClose:5e3,icon:(0,o.jsx)(x.toq,{})})})},children:[(0,o.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,o.jsx)("p",{className:"text-[#001833] text-base font-semibold",children:e("login.id")}),(0,o.jsx)("input",{type:"text",name:"nationalId",value:S.nationalId,onChange:e=>k(e),placeholder:"123456789123457",className:"sub_input  rounded-lg px-3",required:!0})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,o.jsx)("p",{className:"text-[hsl(212,100%,10%)] text-base font-semibold ",children:e("login.password")}),(0,o.jsx)("div",{className:" flex flex-row  justify-start relative",children:(0,o.jsxs)("div",{className:"w-full relative",children:[(0,o.jsx)("input",{type:y?"text":"password",className:"sub_input",placeholder:"****************",id:"ijambo_banga",name:"password",value:S.password,onChange:e=>k(e),required:!0}),(0,o.jsx)("span",{onClick:()=>j(!y),className:"absolute top-4 right-3 cursor-pointer",children:y?(0,o.jsx)(p.tgn,{}):(0,o.jsx)(p.dSq,{})})]})})]}),(0,o.jsx)("p",{className:"text-end",children:(0,o.jsx)(a(),{href:"/forgot",className:"text-cyan-600 no-underline",children:e("login.forgot_password")})}),(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 py-2 font-semibold text-base",children:[(0,o.jsx)("button",{type:"submit",className:"btn_primary text-white py-3 px-10 rounded-lg ".concat(l?" cursor-not-allowed":""),disabled:l,children:l?(0,o.jsx)("div",{className:"w-full flex items-center justify-center",children:(0,o.jsx)(f.Z,{size:18,color:"white"})}):N}),(0,o.jsxs)("p",{className:"text-[#717070] font-medium",children:[e("login.first_time"),(0,o.jsx)("span",{className:"text-cyan-600 ml-2",children:(0,o.jsx)(a(),{href:"/register",children:e("login.create_account")})})]})]})]})]}),n&&(0,o.jsx)(b,{})]})}},64267:function(e,t,n){"use strict";n.r(t),t.default={src:"/_next/static/media/logo-dark (1).dd93cfad.png",height:66,width:68,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAl0lEQVR42k3PoQrCUBjF8aNBzGLzCUzCvQaLTUQwLuhrKILV5BP4Er6EYBezTW0mm6gr25/tDDb4sbOz73L5JAVhijsyu2Gi8gmJyyvmUkzwdLeQFL64SP0G7zWW0oAcX+SPPLmj6KC6Yoxt8U14IMUQJw9tsMJbFCPCHxl+8t3YYyZv0WPw4NNntMldbxFbtVWP/il3zRxRyC10qeQ2VQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},16691:function(e,t,n){e.exports=n(67447)},61396:function(e,t,n){e.exports=n(25250)},24033:function(e,t,n){e.exports=n(15313)},51696:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var o=n(2265),i={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function r(e){var t=function(e){if("number"==typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var o=(e.match(/[^0-9]*$/)||"").toString();return i[o]?{value:t,unit:o}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)0>t.indexOf(o[i])&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n},l=function(e,t,n){var o="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return o;var i=document.createElement("style");document.head.appendChild(i);var r=i.sheet,s="\n    @keyframes ".concat(o," {\n      ").concat(t,"\n    }\n  ");return r&&r.insertRule(s,0),o}("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip"),c=function(e){var t=e.loading,n=e.color,i=void 0===n?"#000000":n,c=e.speedMultiplier,u=e.cssOverride,d=e.size,f=void 0===d?35:d,p=a(e,["loading","color","speedMultiplier","cssOverride","size"]),g=s({background:"transparent !important",width:r(f),height:r(f),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(l," ").concat(.75/(void 0===c?1:c),"s 0s infinite linear"),animationFillMode:"both"},void 0===u?{}:u);return void 0===t||t?o.createElement("span",s({style:g},p)):null}},77499:function(e,t,n){"use strict";function o(){return`mantine-${Math.random().toString(36).slice(2,11)}`}n.d(t,{k:function(){return o}})},86655:function(e,t,n){"use strict";n.d(t,{N9:function(){return c},Ps:function(){return r},yK:function(){return l},zn:function(){return s}});var o=n(77499),i=n(57178);let r=(0,i.M)({notifications:[],queue:[],limit:5}),s=(e=r)=>(0,i.o)(e);function a(e,t){let n=e.getState(),o=t([...n.notifications,...n.queue]);e.setState({notifications:o.slice(0,n.limit),queue:o.slice(n.limit),limit:n.limit})}function l(e,t=r){return a(t,t=>t.filter(t=>t.id!==e||(t.onClose?.(t),!1))),e}let c={show:function(e,t=r){let n=e.id||(0,o.k)();return a(t,t=>e.id&&t.some(t=>t.id===e.id)?t:[...t,{...e,id:n}]),n},hide:l,update:function(e,t=r){return a(t,t=>t.map(t=>t.id===e.id?{...t,...e}:t)),e.id},clean:function(e=r){a(e,()=>[])},cleanQueue:function(e=r){a(e,t=>t.slice(0,e.getState().limit))},updateState:a}},57178:function(e,t,n){"use strict";n.d(t,{M:function(){return i},o:function(){return r}});var o=n(2265);function i(e){let t=e,n=!1,o=new Set;return{getState:()=>t,updateState(e){t="function"==typeof e?e(t):e},setState(e){this.updateState(e),o.forEach(e=>e(t))},initialize(e){n||(t=e,n=!0)},subscribe:e=>(o.add(e),()=>o.delete(e))}}function r(e){return(0,o.useSyncExternalStore)(e.subscribe,()=>e.getState(),()=>e.getState())}},53771:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});class o extends Error{}function i(e,t){let n;if("string"!=typeof e)throw new o("Invalid token specified: must be a string");t||(t={});let i=!0===t.header?0:1,r=e.split(".")[i];if("string"!=typeof r)throw new o(`Invalid token specified: missing part #${i+1}`);try{n=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var n;return n=t,decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(e){return atob(t)}}(r)}catch(e){throw new o(`Invalid token specified: invalid base64 for part #${i+1} (${e.message})`)}try{return JSON.parse(n)}catch(e){throw new o(`Invalid token specified: invalid json for part #${i+1} (${e.message})`)}}o.prototype.name="InvalidTokenError"}},function(e){e.O(0,[2420,1787,5812,1749,2173,5250,251,2971,4938,1744],function(){return e(e.s=3978)}),_N_E=e.O()}]);