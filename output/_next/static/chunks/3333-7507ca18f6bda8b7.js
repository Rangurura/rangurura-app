"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3333],{12727:function(e,t,l){var a=l(57437),n=l(72027),s=l(18513),i=l(53159),r=l(71824),c=l(2265),o=l(10519),d=l(5313);t.Z=e=>{let{dataProps:t,showPagination:l,styles:m}=e,[x,u]=(0,c.useState)(),[h,v]=(0,c.useState)(!1);return(0,a.jsxs)("div",{className:"w-full h-max px-2 bg-white mt-8",children:[(0,a.jsx)(o.u,{opened:h,onClose:()=>v(!1),size:"lg",children:(0,a.jsxs)("div",{className:"w-full h-full flex flex-col gap-4 pb-5 pl-5",children:[(0,a.jsx)("h3",{className:"text-[#20603D] font-extrabold text-center text-xl",children:"Event information"}),(0,a.jsx)("div",{className:"mt-[10px] mx-3",children:(0,a.jsxs)("h6",{children:[(0,a.jsx)("span",{className:"font-extrabold text-md mx-2",children:"Event name:"})," ",null==x?void 0:x.eventName]})}),(0,a.jsx)("div",{className:"mt-[10px] mx-3",children:(0,a.jsxs)("h6",{children:[(0,a.jsx)("span",{className:"font-extrabold text-md mx-2",children:"Description: "})," ",null==x?void 0:x.descriptions]})}),(0,a.jsx)("div",{className:"mt-[10px] mx-3",children:(0,a.jsxs)("h6",{children:[" ",(0,a.jsxs)("span",{className:"text-md font-extrabold mx-2",children:["Organization Level:"," "]}),null==x?void 0:x.organizationLevel]})}),(0,a.jsx)("div",{className:"mt-[10px] mx-3",children:(0,a.jsxs)("h6",{children:[" ",(0,a.jsx)("span",{className:"font-extrabold text-md mx-2",children:"Category:"})," ",null==x?void 0:x.category]})}),(0,a.jsx)("div",{className:"mt-[10px] mx-3",children:(0,a.jsxs)("h6",{children:[" ",(0,a.jsx)("span",{className:"text-md font-extrabold mx-2",children:"Start Date and Time :"}),null==x?void 0:x.startDateTime]})}),(0,a.jsx)("div",{className:"mt-[10px] mx-3",children:(0,a.jsxs)("h6",{children:[(0,a.jsxs)("span",{className:"text-md font-extrabold mx-2",children:["End Date and Time:"," "]}),null==x?void 0:x.endDateTime]})}),(0,a.jsx)("div",{className:"mt-[10px] mx-3",children:(0,a.jsxs)("h6",{children:[" ",(0,a.jsx)("span",{className:"text-md font-extrabold mx-2",children:"Location: "}),null==x?void 0:x.location]})})]})}),(0,a.jsx)("div",{className:"".concat(m," w-full h-[80%]"),children:(0,a.jsx)(s.w,{allowPagination:null==l||l,data:null!=t?t:n.U3,columns:[{accessorKey:"Completed",header:e=>{let{column:t}=e;return(0,a.jsx)(i.UUc,{color:"#ccc"})},cell:e=>{let{row:t}=e;return t.original.completed?(0,a.jsx)(i.UUc,{color:"#00D560"}):(0,a.jsx)(r.QCV,{color:"#FA8701"})}},{accessorKey:"Event Name",header:e=>{let{column:t}=e;return(0,a.jsx)("h4",{children:"Event name"})},cell:e=>{let{row:t}=e;return(0,a.jsx)("h6",{className:"text-[80%]",children:t.original.eventName.toString().length<30?t.original.eventName:"".concat(t.original.eventName.slice(0,58)," . . .")})}},{accessorKey:"Event Description",header:e=>{let{column:t}=e;return(0,a.jsx)("h4",{children:"Event description"})},cell:e=>{let{row:t}=e;return(0,a.jsx)("h6",{className:"text-[80%]",children:t.original.descriptions.toString().length<30?t.original.descriptions:"".concat(t.original.descriptions.slice(0,58)," . . .")})}},{accessorKey:"Start Date Time",header:e=>{let{column:t}=e;return(0,a.jsx)("h4",{children:"Start Date Time"})},cell:e=>{let{row:t}=e;return(0,a.jsx)("h6",{className:"text-[80%]",children:t.original.startDateTime})}},{accessorKey:"End Date Time",header:e=>{let{column:t}=e;return(0,a.jsx)("h4",{children:"End Date Time"})},cell:e=>{let{row:t}=e;return(0,a.jsx)("h6",{className:"text-[80%]",children:t.original.endDateTime})}},{accessorKey:"Location",header:e=>{let{column:t}=e;return(0,a.jsx)("h4",{children:"Location"})},cell:e=>{let{row:t}=e;return(0,a.jsx)("h6",{className:"text-[80%]",children:t.original.location})}},{accessorKey:"View",header:e=>{let{column:t}=e;return(0,a.jsx)("div",{className:"cursor-pointer w-full flex justify-end",children:(0,a.jsx)("h5",{children:"View"})})},cell:e=>{let{row:t}=e;return(0,a.jsx)("div",{className:"pr-4 w-full flex justify-end cursor-pointer",onClick:()=>{u(t.original),v(!0)},children:(0,a.jsx)(i.z5B,{})})}},{accessorKey:"Actions",header:e=>{let{column:t}=e;return(0,a.jsx)(a.Fragment,{})},cell:e=>{let{row:t}=e;return(0,a.jsx)(d.Z,{data:t.original})}}],tableClass:""})})]})}},5313:function(e,t,l){l.d(t,{Z:function(){return b}});var a=l(57437),n=l(27431),s=l(58910),i=l(2265),r=l(4617),c=l(67108),o=l(10519),d=l(72027),m=l(86655),x=l(51696),u=l(53159),h=l(40311),v=e=>{let{event:t,close:l}=e,[n,s]=i.useState(!1);return(0,a.jsxs)("div",{className:"w-full h-full flex flex-col gap-3 items-center",children:[(0,a.jsx)("header",{className:"w-full text-center font-extrabold text-lg",children:"Are you sure you want to delete this Event?"}),(0,a.jsxs)("div",{className:"w-full flex flex-col",children:[(0,a.jsxs)("h2",{children:["Name: ",null==t?void 0:t.eventName]}),(0,a.jsx)("h2",{children:"Description: "}),(0,a.jsx)("p",{className:"border border-[#ccc] my-3 p-2 text-justify rounded-lg text-[90%] bg-[#e6edfc]",children:null==t?void 0:t.descriptions}),(0,a.jsxs)("div",{className:"w-full mt-5 flex justify-between md:px-[10%]",children:[(0,a.jsx)("button",{onClick:()=>l(),className:"py-3 px-8 rounded-3xl flex items-center justify-center bg-[#ccc] text-black",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{s(!0),d.N$.delete("/events/delete_event/".concat(t.id)).then(e=>{m.N9.show({title:"Delete Event",message:"Successfully Deleted Event!",autoClose:5e3,icon:(0,a.jsx)(u.wO,{})}),l()}).catch(e=>{m.N9.show({title:"Delete Event",message:"Error occurred when deleting a event!",color:"#FF555D",autoClose:5e3,icon:(0,a.jsx)(h.toq,{})})}).finally(()=>s(!1))},className:"py-3 px-8 rounded-3xl flex items-center justify-center bg-[#FF555D] text-black",children:n?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(x.Z,{size:24,color:"white"})}):"Delete"})]})]})]})},j=l(20577),f=l(60236),N=e=>{let{event:t,close:l}=e,[n,s]=i.useState(!1),[r,c]=i.useState({category:(null==t?void 0:t.category)||"",descriptions:(null==t?void 0:t.descriptions)||"",endDateTime:(null==t?void 0:t.endDateTime)||"",eventName:(null==t?void 0:t.eventName)||"",location:(null==t?void 0:t.location)||"",organizationLevel:(null==t?void 0:t.organizationLevel)||"",startDateTime:(null==t?void 0:t.startDateTime)||""}),o=e=>{let{name:t,value:l}=e.target;if("startDateTime"===t||"endDateTime"===t){let e=l.replace("T"," ");c(l=>({...l,[t]:e}))}else c(e=>({...e,[t]:l}))};return(0,a.jsxs)("div",{className:"w-full h-full flex flex-col gap-3 items-center",children:[(0,a.jsx)("header",{className:"w-full text-center font-extrabold text-lg",children:"Edit Announcement"}),(0,a.jsxs)("div",{className:"w-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex-row flex-1",children:[(0,a.jsx)("label",{htmlFor:"eventName",className:"font-bold",children:"Name"}),(0,a.jsx)("input",{type:"text",className:"sub_input",id:"eventName",name:"eventName",value:r.eventName,onChange:o})]}),(0,a.jsx)("h2",{className:"mt-3 text-[90%] mb-[-0.71rem] font-bold",children:"Edit Description:"}),(0,a.jsx)("textarea",{value:r.descriptions,onChange:o,className:"border border-[#ccc] outline outline-blue-500 caret-blue-500 my-3 p-2 text-justify rounded-lg text-[90%] bg-[#f1f6ff] resize-none",name:"descriptions"}),(0,a.jsxs)("div",{className:"flex-col flex-1",children:[(0,a.jsx)("label",{htmlFor:"organisationLevel",className:"font-bold",children:"Organisation Level"}),(0,a.jsx)(f.P,{value:r.organizationLevel,onChange:e=>c(t=>({...t,organizationLevel:e})),data:j._J})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex-row flex-1",children:[(0,a.jsx)("label",{htmlFor:"startDateTime",className:"font-bold",children:"Start Date and time"}),(0,a.jsx)("input",{type:"datetime-local",className:"sub_input",id:"startDateTime",name:"startDateTime",value:r.startDateTime,onChange:o,step:1})]}),(0,a.jsxs)("div",{className:"flex-row flex-1",children:[(0,a.jsx)("label",{htmlFor:"endDateTime",className:"font-bold",children:"End Date and time"}),(0,a.jsx)("input",{type:"datetime-local",className:"sub_input",id:"endDateTime",name:"endDateTime",value:r.endDateTime,onChange:o,step:1})]})]}),(0,a.jsxs)("div",{className:"my-1",children:[(0,a.jsxs)("div",{className:"flex-row flex-1",children:[(0,a.jsx)("label",{htmlFor:"location",className:"font-bold",children:"Location"}),(0,a.jsx)("input",{type:"text",className:"sub_input",placeholder:"Ibiro by'umurenge",id:"location",name:"location",value:r.location,onChange:o})]}),(0,a.jsxs)("div",{className:"flex-row flex-1",children:[(0,a.jsx)("label",{htmlFor:"category",className:"font-bold",children:"Categories"}),(0,a.jsx)(f.P,{data:j.bd,value:r.category,onChange:e=>c(t=>({...t,category:e}))})]})]}),(0,a.jsxs)("div",{className:"w-full mt-5 flex justify-between md:px-[10%]",children:[(0,a.jsx)("button",{onClick:()=>l(),className:"py-3 px-8 rounded-3xl flex items-center justify-center bg-[#ccc] text-black",children:"Cancel"}),(0,a.jsx)("button",{disabled:t.descriptions===r.descriptions||t.eventName===r.eventName||t.location===r.location||t.organizationLevel===r.organizationLevel||t.startDateTime===r.startDateTime||t.endDateTime===r.endDateTime||t.category===r.category,onClick:()=>{s(!0),d.N$.put("/events/update_event/".concat(t.id),r).then(e=>{m.N9.show({title:"Edit Event",message:"Successfully Edited Event!",autoClose:5e3,icon:(0,a.jsx)(u.wO,{})}),l()}).catch(e=>{m.N9.show({title:"Edit Event",message:"Error occurred when editing an event!",color:"#FF555D",autoClose:5e3,icon:(0,a.jsx)(h.toq,{})})}).finally(()=>s(!1))},className:"py-3 px-8 rounded-3xl flex items-center justify-center ".concat(t.descriptions===r.descriptions||t.eventName===r.eventName||t.location===r.location||t.organizationLevel===r.organizationLevel||t.startDateTime===r.startDateTime||t.endDateTime===r.endDateTime||t.category===r.category?"cursor-not-allowed":""," bg-[#0075FF] text-white"),children:n?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(x.Z,{size:24,color:"white"})}):"Save"})]})]})]})},p=e=>{let{event:t,close:l}=e,[n,s]=i.useState(!1),[r,c]=i.useState({otherEndDateTime:(null==t?void 0:t.endDateTime)||"",otherStartDateTime:(null==t?void 0:t.startDateTime)||""}),o=e=>{let{name:t,value:l}=e.target;if("otherStartDateTime"===t||"otherEndDateTime"===t){let e=l.replace("T"," ");c(l=>({...l,[t]:e}))}else c(e=>({...e,[t]:l}))};return(0,a.jsxs)("div",{className:"w-full h-full flex flex-col gap-3 items-center",children:[(0,a.jsx)("header",{className:"w-full text-center font-extrabold text-lg",children:"Postpone Announcement"}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex-row flex-1",children:[(0,a.jsx)("label",{htmlFor:"otherStartDateTime",className:"font-bold",children:"New Start Date and time"}),(0,a.jsx)("input",{type:"datetime-local",className:"sub_input",id:"otherStartDateTime",name:"otherStartDateTime",value:r.otherStartDateTime,onChange:o,step:1})]}),(0,a.jsxs)("div",{className:"flex-row flex-1",children:[(0,a.jsx)("label",{htmlFor:"otherEndDateTime",className:"font-bold",children:"New End Date and time"}),(0,a.jsx)("input",{type:"datetime-local",className:"sub_input",id:"otherEndDateTime",name:"otherEndDateTime",value:r.otherEndDateTime,onChange:o,step:1})]})]}),(0,a.jsxs)("div",{className:"w-full mt-5 flex justify-between md:px-[10%]",children:[(0,a.jsx)("button",{onClick:()=>l(),className:"py-3 px-8 rounded-3xl flex items-center justify-center bg-[#ccc] text-black",children:"Cancel"}),(0,a.jsx)("button",{disabled:t.startDateTime===r.otherStartDateTime||t.endDateTime===r.otherEndDateTime,onClick:()=>{s(!0),d.N$.put("/events/event/".concat(t.id,"/postpone"),r).then(e=>{m.N9.show({title:"Postpone Event",message:"Successfully Postponed Event!",autoClose:5e3,icon:(0,a.jsx)(u.wO,{})}),l()}).catch(e=>{m.N9.show({title:"Postpone Event",message:"Error occurred when postponing an event!",color:"#FF555D",autoClose:5e3,icon:(0,a.jsx)(h.toq,{})})}).finally(()=>s(!1))},className:"py-3 px-8 rounded-3xl flex items-center justify-center ".concat(t.startDateTime===r.otherStartDateTime||t.endDateTime===r.otherEndDateTime?"cursor-not-allowed":""," bg-[#0075FF] text-white"),children:n?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(x.Z,{size:24,color:"white"})}):"Save"})]})]})};function b(e){let{data:t}=e,[l,d]=(0,i.useState)(!1),[m,x]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1);return(0,a.jsxs)(r.v,{shadow:"md",width:200,children:[(0,a.jsx)(r.v.Target,{children:(0,a.jsx)("span",{className:"cursor-pointer",children:(0,a.jsx)(n.LkB,{})})}),(0,a.jsxs)(r.v.Dropdown,{children:[(0,a.jsx)(r.v.Item,{onClick:()=>x(!0),leftSection:(0,a.jsx)(n.BpP,{style:{width:(0,c.h)(14),height:(0,c.h)(14)}}),children:(0,a.jsx)("h5",{children:"Edit"})}),(0,a.jsx)(r.v.Item,{onClick:()=>h(!0),leftSection:(0,a.jsx)(n.BpP,{style:{width:(0,c.h)(14),height:(0,c.h)(14)}}),children:(0,a.jsx)("h5",{children:"Postpone"})}),(0,a.jsx)(r.v.Divider,{}),(0,a.jsx)(r.v.Label,{children:"Danger zone"}),(0,a.jsx)(r.v.Item,{onClick:()=>{d(!0)},color:"red",leftSection:(0,a.jsx)(s.FH3,{style:{width:(0,c.h)(14),height:(0,c.h)(14)}}),children:"Delete"})]}),(0,a.jsx)(o.u,{opened:l,onClose:()=>d(!1),children:(0,a.jsx)(v,{event:t,close:()=>d(!1)})}),(0,a.jsx)(o.u,{opened:m,onClose:()=>x(!1),children:(0,a.jsx)(N,{event:t,close:()=>x(!1)})}),(0,a.jsx)(o.u,{opened:u,onClose:()=>h(!1),children:(0,a.jsx)(p,{event:t,close:()=>h(!1)})})]})}},20577:function(e,t,l){l.d(t,{Cx:function(){return s},DA:function(){return i},_J:function(){return a},bd:function(){return n},rH:function(){return r}});let a=[{label:"Akagari",value:"AKAGARI"},{label:"Umurenge",value:"UMURENGE"},{label:"Akarere",value:"AKARERE"},{label:"Intara",value:"INTARA"}],n=[{label:"Ubuzima",value:"UBUZIMA"},{label:"Uburezi",value:"UBUREZI"},{label:"Imibereho Myiza",value:"IMIBEREHOMYIZA"},{label:"Imyidagaduro",value:"IMYIDAGADURO"},{label:"Umurekano",value:"UMUTEKANO"},{label:"Ubutaka",value:"UBUTAKA"}];JSON.stringify({name:"David NYIRINGABO",phoneNumber:"0788460119"}),JSON.stringify({name:"Anne UHIRIWE",phoneNumber:"0783457998"}),JSON.stringify({name:"MUGABO Peter ",phoneNumber:"0783475989"});let s=[{label:"Urwego Rw'Ibanze",value:"Urwego Rw'Ibanze"},{label:"Ikigo cya Leta",value:"Ikigo cya Leta"}],i=[{label:"POLICE",value:"POLICE"},{label:"RIB",value:"RIB"},{label:"RGB",value:"RGB"},{label:"MINISANTE",value:"MINISANTE"}],r=[{label:"Umuyobozi mukuru",value:" UMUYOBOZI_MUKURU"},{label:"Umuyobozi w'uburezi",value:" UMUYOBOZI_W_UBUREZI"}]},79330:function(e,t){t.Z={src:"/_next/static/media/no_leader.f978616f.gif",height:102,width:150,blurWidth:0,blurHeight:0}}}]);